# æœ¬åœ°æ–‡ä»¶æ“ä½œ MCP æœåŠ¡å™¨

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ MCP (Model Context Protocol) æœåŠ¡å™¨ï¼Œä¸ºå¤§æ¨¡å‹åº”ç”¨æä¾›å®‰å…¨çš„æœ¬åœ°æ–‡ä»¶æ“ä½œå’Œå‘½ä»¤æ‰§è¡ŒåŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“ æ–‡ä»¶æ“ä½œå·¥å…·
- **è¯»å–æ–‡ä»¶** - å®‰å…¨è¯»å–æœ¬åœ°æ–‡ä»¶å†…å®¹
- **å†™å…¥æ–‡ä»¶** - åˆ›å»ºæˆ–æ›´æ–°æ–‡ä»¶å†…å®¹
- **åˆ—å‡ºç›®å½•** - æŸ¥çœ‹ç›®å½•ç»“æ„å’Œæ–‡ä»¶åˆ—è¡¨
- **åˆ›å»ºç›®å½•** - åˆ›å»ºæ–°çš„ç›®å½•ç»“æ„
- **åˆ é™¤æ–‡ä»¶/ç›®å½•** - å®‰å…¨åˆ é™¤æ–‡ä»¶å’Œç›®å½•

### âš¡ å‘½ä»¤æ‰§è¡Œå·¥å…·
- **æ‰§è¡Œæœ¬åœ°å‘½ä»¤** - åœ¨æŒ‡å®šå·¥ä½œç›®å½•ä¸‹æ‰§è¡Œç³»ç»Ÿå‘½ä»¤
- **å®‰å…¨é™åˆ¶** - è‡ªåŠ¨è¿‡æ»¤å±é™©å‘½ä»¤ï¼Œä¿æŠ¤ç³»ç»Ÿå®‰å…¨

### ğŸ”’ å®‰å…¨ç‰¹æ€§
- **è·¯å¾„é™åˆ¶** - ç¦æ­¢è®¿é—®æ•æ„Ÿç³»ç»Ÿç›®å½•
- **å‘½ä»¤è¿‡æ»¤** - é˜»æ­¢æ‰§è¡Œå±é™©çš„ç³»ç»Ÿå‘½ä»¤
- **æƒé™æ§åˆ¶** - ç¡®ä¿æ“ä½œåœ¨å®‰å…¨èŒƒå›´å†…

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm æˆ– yarn

### å®‰è£…ä¾èµ–
```bash
cd /Users/xueyuheng/research/mcp
npm install
```

## ğŸ“‹ é…ç½®è¯´æ˜

### LM Studio é…ç½®
```json
{
  "mcpServers": {
    "file_operation": {
      "command": "/Users/xueyuheng/.nvm/versions/node/v22.16.0/bin/node",
      "args": ["/Users/xueyuheng/research/mcp/index.js"],
      "env": {
        "PATH": "/Users/xueyuheng/.nvm/versions/node/v22.16.0/bin:/usr/local/bin:/usr/bin:/bin",
        "NODE_PATH": "/Users/xueyuheng/research/mcp"
      }
    }
  }
}
```

### Qwen é…ç½®
```json
{
  "mcpServers": {
    "file_operation": {
      "command": "npx",
      "args": [
        "-y",
        "local-file-operation-mcp@file:/Users/xueyuheng/research/mcp"
      ]
    }
  }
}
```

## ğŸ› ï¸ å·¥å…·ä½¿ç”¨

### æ–‡ä»¶æ“ä½œå·¥å…·

#### è¯»å–æ–‡ä»¶
```json
{
  "name": "file_operation",
  "arguments": {
    "operation": "read",
    "path": "/path/to/file.txt"
  }
}
```

#### å†™å…¥æ–‡ä»¶
```json
{
  "name": "file_operation",
  "arguments": {
    "operation": "write",
    "path": "/path/to/file.txt",
    "content": "æ–‡ä»¶å†…å®¹"
  }
}
```

#### åˆ—å‡ºç›®å½•
```json
{
  "name": "file_operation",
  "arguments": {
    "operation": "list",
    "path": "/path/to/directory"
  }
}
```

#### åˆ›å»ºç›®å½•
```json
{
  "name": "file_operation",
  "arguments": {
    "operation": "create_dir",
    "path": "/path/to/new/directory"
  }
}
```

#### åˆ é™¤æ–‡ä»¶/ç›®å½•
```json
{
  "name": "file_operation",
  "arguments": {
    "operation": "delete",
    "path": "/path/to/file_or_directory"
  }
}
```

### å‘½ä»¤æ‰§è¡Œå·¥å…·

#### æ‰§è¡Œå‘½ä»¤
```json
{
  "name": "execute_command",
  "arguments": {
    "command": "ls -la",
    "working_directory": "/path/to/working/dir"
  }
}
```

## ğŸ”§ å·¥ä½œåŸç†

### MCP åè®®é€šä¿¡
1. **å¤§æ¨¡å‹åº”ç”¨å¯åŠ¨** - æ ¹æ®é…ç½®è‡ªåŠ¨å¯åŠ¨ MCP æœåŠ¡å™¨è¿›ç¨‹
2. **å»ºç«‹è¿æ¥** - é€šè¿‡ stdio åè®®å»ºç«‹é€šä¿¡è¿æ¥
3. **å·¥å…·å‘ç°** - å¤§æ¨¡å‹åº”ç”¨å‘é€ `ListTools` è¯·æ±‚è·å–å¯ç”¨å·¥å…·
4. **å·¥å…·è°ƒç”¨** - å½“éœ€è¦æ–‡ä»¶æ“ä½œæ—¶ï¼Œå‘é€å·¥å…·è°ƒç”¨è¯·æ±‚
5. **è‡ªåŠ¨ç®¡ç†** - å¤§æ¨¡å‹åº”ç”¨è´Ÿè´£ç®¡ç† MCP æœåŠ¡å™¨çš„ç”Ÿå‘½å‘¨æœŸ

### å®‰å…¨æœºåˆ¶
- **è·¯å¾„æ£€æŸ¥** - ç¦æ­¢è®¿é—® `/`, `/Users/<username>`, `/etc`, `/bin` ç­‰æ•æ„Ÿç›®å½•
- **å‘½ä»¤è¿‡æ»¤** - é˜»æ­¢æ‰§è¡Œ `rm -rf`, `sudo`, `chmod 777` ç­‰å±é™©å‘½ä»¤
- **æƒé™éªŒè¯** - ç¡®ä¿æ‰€æœ‰æ“ä½œåœ¨å®‰å…¨èŒƒå›´å†…

## ğŸ“ é¡¹ç›®ç»“æ„

```
mcp/
â”œâ”€â”€ index.js              # MCP æœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ package.json          # Node.js é¡¹ç›®é…ç½®
â”œâ”€â”€ mcp_config.json       # LM Studio é…ç½®
â”œâ”€â”€ qwen_config_final.json # Qwen é…ç½®
â”œâ”€â”€ mcp_config_template.json # é…ç½®æ¨¡æ¿
â””â”€â”€ README.md             # é¡¹ç›®æ–‡æ¡£
```

## ğŸ¯ æ”¯æŒçš„å¤§æ¨¡å‹åº”ç”¨

- âœ… **LM Studio** - ä½¿ç”¨ç›´æ¥ node æ‰§è¡Œ
- âœ… **Qwen** - ä½¿ç”¨ npx æœ¬åœ°åŒ…
- âœ… **å…¶ä»–æ”¯æŒ MCP åè®®çš„åº”ç”¨**

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **è¿æ¥å¤±è´¥** - æ£€æŸ¥ Node.js è·¯å¾„å’Œæ–‡ä»¶æƒé™
2. **å·¥å…·ä¸å¯ç”¨** - ç¡®è®¤ MCP æœåŠ¡å™¨æ­£å¸¸å¯åŠ¨
3. **æƒé™é”™è¯¯** - æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿæƒé™

### è°ƒè¯•æ–¹æ³•

1. **æ‰‹åŠ¨æµ‹è¯•** - è¿è¡Œ `npx -y local-file-operation-mcp@file:/Users/xueyuheng/research/mcp`
2. **æ£€æŸ¥æ—¥å¿—** - æŸ¥çœ‹å¤§æ¨¡å‹åº”ç”¨çš„é”™è¯¯æ—¥å¿—
3. **éªŒè¯é…ç½®** - ç¡®è®¤é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**äº«å—å¼ºå¤§çš„æœ¬åœ°æ–‡ä»¶æ“ä½œèƒ½åŠ›ï¼** ğŸš€âœ¨